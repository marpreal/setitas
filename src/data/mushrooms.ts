import { imageManifest } from "./imageManifest";

export type Comestibilidad = "comestible" | "tóxica" | "sin interés" | "desconocida";

const COMESTIBILIDAD_ORDER: Record<Comestibilidad, number> = {
  comestible: 0,
  tóxica: 1,
  "sin interés": 2,
  desconocida: 3,
};

export type Mushroom = {
  id: string;
  nombreComun: string;
  nombreCientifico: string;
  comestibilidad: Comestibilidad;
  habitat: string[];
  epoca: string[];
  rasgos: string[];
  descripcionCorta: string;
  /** Regiones o zonas de España donde se puede encontrar */
  zonas?: string[];
  /** Nombres que recibe esta seta en distintas zonas de España */
  nombresEnEspana?: string[];
  /** Solo para comestibles: nivel de calidad gastronómica */
  calidadCulinaria?: "excelente" | "muy buena" | "buena" | "aceptable";
  /** Solo para comestibles: formas recomendadas de consumo */
  consumoRecomendado?: string[];
  /** Solo para comestibles: propiedades nutricionales o culinarias */
  propiedades?: string[];
  confusiones?: string[];
  precauciones?: string[];
  imagenes: Array<{ src: string; alt: string }>;
};

/** Imágenes desde la carpeta public/images/<id>/ (se actualizan con npm run dev / build) */
function getImagenesFromManifest(id: string, nombreComun: string): Array<{ src: string; alt: string }> {
  const files = imageManifest[id];
  if (!files || files.length === 0) return [];
  return files.map((file) => ({
    src: `/images/${id}/${file}`,
    alt: `${nombreComun} – ${file}`,
  }));
}

export const MUSHROOMS: Mushroom[] = [
  {
    id: "amanita-muscaria",
    nombreComun: "Matamoscas",
    nombreCientifico: "Amanita muscaria",
    comestibilidad: "tóxica",
    habitat: ["coníferas", "abedules", "bosque"],
    epoca: ["otoño"],
    rasgos: ["sombrero rojo con verrugas blancas", "láminas blancas", "anillo", "base bulbosa"],
    descripcionCorta: "Muy llamativa. Tóxica. A menudo asociada a coníferas y abedules.",
    zonas: ["Pirineos", "Cataluña", "País Vasco", "Navarra", "Castilla y León", "Cordillera Cantábrica"],
    nombresEnEspana: ["Matamoscas", "Falsa oronja", "Reig", "Amanita falsa", "Seta de los enanitos"],
    confusiones: ["Amanita caesarea (comestible, sombrero naranja sin verrugas)", "Amanita phalloides (mortal)"],
    precauciones: ["No consumir. Puede causar intoxicación grave."],
    imagenes: [],
  },
  {
    id: "boletus-edulis",
    nombreComun: "Boleto / Cep / Calabaza",
    nombreCientifico: "Boletus edulis",
    comestibilidad: "comestible",
    habitat: ["pinares", "robledales", "bosque"],
    epoca: ["otoño", "finales de verano"],
    rasgos: ["tubos/poros (no láminas)", "pie robusto", "carne blanca"],
    descripcionCorta: "Excelente comestible. Rey de las setas en muchas zonas.",
    zonas: ["Castilla y León", "Cataluña", "Navarra", "País Vasco", "Galicia", "Aragón", "Pirineos"],
    nombresEnEspana: ["Boleto", "Cep", "Calabaza", "Porcini", "Hong blanco", "Onddo zuri", "Cep de Bordeaux"],
    calidadCulinaria: "excelente",
    consumoRecomendado: ["Salteado", "A la plancha", "Seco (deshidratado)", "En risotto", "Con arroz", "En conserva (aceite)"],
    propiedades: ["Una de las setas más apreciadas del mundo. Aroma avellanado y dulce.", "Carne compacta y tierna.", "Rico en proteínas, fibra, vitaminas B y D.", "Bajo en calorías. Se conserva muy bien seca."],
    confusiones: ["Boletus satanas (tóxico, pie rojizo)", "Tylopilus felleus (amargo)"],
    precauciones: ["Asegura identificación. Evita ejemplares muy maduros."],
    imagenes: [],
  },
  {
    id: "lactarius-deliciosus",
    nombreComun: "Níscalo / Rovellón",
    nombreCientifico: "Lactarius deliciosus",
    comestibilidad: "comestible",
    habitat: ["pinares"],
    epoca: ["otoño"],
    rasgos: ["látex naranja", "sombrero anaranjado con círculos", "verdín al manipular"],
    descripcionCorta: "Muy típico en pinares. El látex naranja es una buena pista.",
    zonas: ["Cataluña", "Castilla y León", "Aragón", "Navarra", "Madrid", "Sistema Central"],
    nombresEnEspana: ["Níscalo", "Rovellón", "Rovelló", "Níscalo", "Mízcalo", "Guíscano", "Lactario delicioso"],
    calidadCulinaria: "excelente",
    consumoRecomendado: ["A la plancha", "Salteado con ajo y perejil", "En guisos", "Revuelto", "En arroz"],
    propiedades: ["Sabor intenso y aroma terroso. Muy apreciado en la península.", "Textura firme y carnosa.", "Rico en proteínas y minerales.", "Puede teñir de verde el plato al cocinar (normal)."],
    confusiones: ["Lactarius torminosus (tóxico, látex blanco)", "Otros Lactarius con látex no naranja"],
    imagenes: [],
  },
  {
    id: "amanita-phalloides",
    nombreComun: "Oronja verde / Cicuta verde",
    nombreCientifico: "Amanita phalloides",
    comestibilidad: "tóxica",
    habitat: ["bosque", "robledales", "alcornoques", "encinares"],
    epoca: ["otoño", "finales de verano"],
    rasgos: ["sombrero verde a blanquecino", "láminas blancas", "anillo", "volva en saco"],
    descripcionCorta: "Mortal. La intoxicación más grave en España. Nunca consumir.",
    zonas: ["Toda la península", "Cataluña", "Castilla y León", "País Vasco", "Galicia", "Andalucía"],
    nombresEnEspana: ["Oronja verde", "Cicuta verde", "Hongo de la muerte", "Amanita faloides"],
    confusiones: ["Amanita caesarea (comestible)", "Agaricus (láminas rosadas a marrón)"],
    precauciones: ["Setas mortales. Una sola puede ser letal."],
    imagenes: [],
  },
  {
    id: "cantharellus-cibarius",
    nombreComun: "Rebozuelo / Seta de San Juan",
    nombreCientifico: "Cantharellus cibarius",
    comestibilidad: "comestible",
    habitat: ["bosque", "pinares", "hayas", "alcornoques"],
    epoca: ["verano", "otoño"],
    rasgos: ["sombrero amarillo huevo", "falsas láminas en pliegues", "olor afrutado"],
    descripcionCorta: "Muy apreciada. Crece en grupos. Olor a albaricoque.",
    zonas: ["Cataluña", "País Vasco", "Navarra", "Castilla y León", "Galicia", "Pirineos"],
    nombresEnEspana: ["Rebozuelo", "Seta de San Juan", "Rossinyol", "Anacate", "Zizahori", "Cabrilla"],
    calidadCulinaria: "excelente",
    consumoRecomendado: ["Salteado", "A la plancha", "En guisos", "Salsas", "Seco. Olor afrutado (albaricoque)."],
    propiedades: ["Sabor suave y delicado. Olor característico a albaricoque.", "Textura carnosa. Muy versátil en cocina.", "Rico en vitamina D y betacarotenos.", "Bajo en calorías. Crece en grupos, fácil de recolectar."],
    confusiones: ["Hygrophoropsis aurantiaca (falsa)", "Omphalotus (tóxico)"],
    imagenes: [],
  },
  {
    id: "amanita-caesarea",
    nombreComun: "Oronja / Amanita de los césares",
    nombreCientifico: "Amanita caesarea",
    comestibilidad: "comestible",
    habitat: ["alcornoques", "encinas", "castaños", "bosque mediterráneo"],
    epoca: ["verano", "otoño"],
    rasgos: ["sombrero naranja sin verrugas", "láminas y pie amarillos", "anillo colgante", "volva en saco"],
    descripcionCorta: "Excelente comestible. No confundir con otras amanitas.",
    zonas: ["Cataluña", "Aragón", "Castilla-La Mancha", "Extremadura", "Andalucía", "Comunidad Valenciana", "Baleares"],
    nombresEnEspana: ["Oronja", "Amanita de los césares", "Oronja verdadera", "Reig de soca", "Cucumelo", "Ou de reig"],
    confusiones: ["Amanita muscaria (tóxica, con verrugas)", "Amanita phalloides (mortal)"],
    calidadCulinaria: "excelente",
    consumoRecomendado: ["Cruda en carpaccio", "A la plancha", "Salteada con ajo", "Revuelto", "En arroz y pasta"],
    propiedades: ["Considerada la reina de las setas en el Mediterráneo. Una de las pocas que se puede comer cruda.", "Sabor delicado, dulce y ligeramente a nuez. Textura tierna.", "Proteínas, vitaminas B y D, fósforo, potasio.", "Propiedades antioxidantes. Siempre identificar con seguridad."],
    precauciones: ["Identificación segura. No consumir si hay duda."],
    imagenes: [],
  },
  {
    id: "amanita-rubescens",
    nombreComun: "Oronja vinosa / Amanita que enrojece",
    nombreCientifico: "Amanita rubescens",
    comestibilidad: "comestible",
    habitat: ["bosque", "pinares", "robledales", "hayados", "encinares"],
    epoca: ["verano", "otoño"],
    rasgos: ["sombrero pardo rojizo a grisáceo", "carne y pie enrojecen al roce o corte", "anillo", "restos de volva poco marcados"],
    descripcionCorta: "Comestible solo bien cocinada. La carne y el pie enrojecen al tocarlos o cortarlos (rubescens), rasgo clave para no confundirla con amanitas tóxicas.",
    zonas: ["Toda la península", "Cataluña", "Castilla y León", "País Vasco", "Navarra", "Galicia", "Aragón", "Pirineos"],
    nombresEnEspana: ["Oronja vinosa", "Amanita que enrojece", "Amanita rubescent", "Vinosa"],
    calidadCulinaria: "buena",
    consumoRecomendado: ["Siempre bien cocinada", "Salteada", "En guisos", "A la plancha (bien hecha)"],
    propiedades: ["Sabor suave. Solo consumir tras cocción suficiente.", "La toxina termolábil se destruye con el calor; cruda o poco hecha puede causar molestias."],
    confusiones: ["Amanita pantherina (tóxica, no enrojece)", "Amanita muscaria (tóxica, sombrero rojo con verrugas)", "Otras amanitas: la rubescencia es clave"],
    precauciones: ["Identificación segura. Debe cocinarse bien; nunca consumir cruda o semicruda."],
    imagenes: [],
  },
  {
    id: "calocybe-gambosa",
    nombreComun: "Perrechico / Seta de San Jorge",
    nombreCientifico: "Calocybe gambosa",
    comestibilidad: "comestible",
    habitat: ["prados", "bordes de bosque", "claros"],
    epoca: ["primavera"],
    rasgos: ["sombrero blanco a crema", "láminas blancas muy apretadas", "olor harinoso"],
    descripcionCorta: "Muy buscada en primavera. Crece en círculos o grupos.",
    zonas: ["País Vasco", "Navarra", "Cataluña", "Castilla y León", "La Rioja", "Cantabria"],
    nombresEnEspana: ["Perrechico", "Seta de San Jorge", "Perretxiko", "Mozcorra", "Seta de abril"],
    calidadCulinaria: "excelente",
    consumoRecomendado: ["Salteado", "Revuelto", "En tortilla", "Guisos", "Rebozado. Olor harinoso característico."],
    propiedades: ["Muy buscada en primavera. Sabor y aroma harinosos suaves.", "Carne blanca y tierna.", "Rico en proteínas y minerales.", "Crece en círculos (corros de brujas)."],
    confusiones: ["Entoloma lividum (tóxico, láminas rosadas)", "Clitocybe (algunas tóxicas)"],
    imagenes: [],
  },
  {
    id: "macrolepiota-procera",
    nombreComun: "Parasol / Galamperna",
    nombreCientifico: "Macrolepiota procera",
    comestibilidad: "comestible",
    habitat: ["claros", "bordes de bosque", "prados"],
    epoca: ["otoño", "verano"],
    rasgos: ["sombrero grande con escamas marrones", "anillo doble móvil", "pie con dibujo de serpiente"],
    descripcionCorta: "Solo el sombrero se consume (pie fibroso). Muy apreciada.",
    zonas: ["Toda la península", "Castilla y León", "Cataluña", "Madrid", "Galicia", "Andalucía"],
    nombresEnEspana: ["Parasol", "Galamperna", "Matacandil", "Apagador", "Parasol de campo"],
    calidadCulinaria: "muy buena",
    consumoRecomendado: ["Solo el sombrero: a la plancha", "Rebozado", "En guisos. El pie es fibroso; desechar o usar para caldo."],
    propiedades: ["Textura carnosa y sabrosa. Sabor suave a avellana.", "Rico en proteínas y fibra.", "Bajo en calorías. Sombrero grande, ideal para rebozar."],
    confusiones: ["Lepiota venenosa (más pequeña)", "Chlorophyllum molybdites (esporas verdes)"],
    imagenes: [],
  },
  {
    id: "pleurotus-eryngii",
    nombreComun: "Seta de cardo",
    nombreCientifico: "Pleurotus eryngii",
    comestibilidad: "comestible",
    habitat: ["cardos", "raíces de umbelíferas", "prados"],
    epoca: ["otoño", "primavera"],
    rasgos: ["sombrero en forma de oreja", "pie excéntrico", "carne blanca firme"],
    descripcionCorta: "Muy valorada. Crece sobre cardos y restos de umbelíferas.",
    zonas: ["Castilla y León", "Madrid", "Castilla-La Mancha", "Extremadura", "Andalucía", "Aragón"],
    nombresEnEspana: ["Seta de cardo", "Seta de cardo corredor", "Gurumelo de cardo"],
    calidadCulinaria: "excelente",
    consumoRecomendado: ["Salteada", "En guisos", "Sopas", "Arroces. Carne firme que aguanta bien la cocción."],
    propiedades: ["Una de las setas más valoradas. Textura firme y sabor intenso.", "Rico en proteínas. Crece sobre cardos (raíces).", "Aguanta bien la congelación y el secado."],
    confusiones: ["Pleurotus ostreatus (seta de ostra, sobre madera)"],
    imagenes: [],
  },
  {
    id: "marasmius-oreades",
    nombreComun: "Senderuela / Carraspina",
    nombreCientifico: "Marasmius oreades",
    comestibilidad: "comestible",
    habitat: ["prados", "céspedes", "bordes de caminos"],
    epoca: ["primavera", "otoño"],
    rasgos: ["sombrero acampanado color crema", "láminas separadas", "pie duro y fibroso"],
    descripcionCorta: "Pequeña y aromática. Crece en círculos de brujas.",
    zonas: ["Toda la península", "Castilla y León", "Galicia", "Cataluña", "Meseta Norte"],
    nombresEnEspana: ["Senderuela", "Carraspina", "Senderilla", "Rellana", "Seta de corro"],
    calidadCulinaria: "buena",
    consumoRecomendado: ["Seco (conserva el aroma)", "En sopas", "Guisos", "Revueltos. Pie duro; solo sombrero o triturar."],
    propiedades: ["Aroma intenso que se potencia al secar. Muy aromática.", "Pequeña; se usa mucho deshidratada como condimento.", "Rico en minerales. Crece en círculos en prados."],
    confusiones: ["Collybia (no comestibles)", "Marasmius (otras especies)"],
    imagenes: [],
  },
  {
    id: "pleurotus-ostreatus",
    nombreComun: "Seta de ostra / Gírgola",
    nombreCientifico: "Pleurotus ostreatus",
    comestibilidad: "comestible",
    habitat: ["troncos", "madera muerta", "chopos", "sauces"],
    epoca: ["otoño", "invierno", "todo el año"],
    rasgos: ["sombrero en abanico", "láminas blancas decurrentes", "sin anillo"],
    descripcionCorta: "Crece en grupos sobre madera. También cultivada. En zonas suaves puede verse todo el año.",
    zonas: ["Cataluña", "País Vasco", "Galicia", "Castilla y León", "Toda la península"],
    nombresEnEspana: ["Seta de ostra", "Gírgola", "Orellana", "Seta de chopo"],
    calidadCulinaria: "muy buena",
    consumoRecomendado: ["Salteada", "A la plancha", "En revueltos", "Sopas", "Pasta. También cultivada."],
    propiedades: ["Textura suave y sabor suave. Muy versátil.", "Rico en proteínas, vitaminas B y D.", "Puede verse todo el año en zonas suaves. Bajo en calorías."],
    confusiones: ["Pleurotus pulmonarius (más clara)", "Lentinus (pie más duro)"],
    imagenes: [],
  },
  {
    id: "agaricus-campestris",
    nombreComun: "Champiñón de prado / Silvestre",
    nombreCientifico: "Agaricus campestris",
    comestibilidad: "comestible",
    habitat: ["prados", "pastizales", "claros"],
    epoca: ["primavera", "otoño"],
    rasgos: ["sombrero blanco que ennegrece", "láminas rosadas luego marrones", "anillo simple"],
    descripcionCorta: "Muy conocida. No confundir con Agaricus tóxicos (olor a tinta, amarilleo).",
    zonas: ["Toda la península", "Castilla y León", "Galicia", "Cataluña", "Meseta"],
    nombresEnEspana: ["Champiñón de prado", "Champiñón silvestre", "Bola de nieve", "Seta de prado"],
    calidadCulinaria: "muy buena",
    consumoRecomendado: ["A la plancha", "Salteado", "En guisos", "Revuelto. Sabor suave, similar al champiñón cultivado."],
    propiedades: ["Sabor delicado. Una de las setas silvestres más seguras de identificar (láminas rosadas que ennegrecen).", "Rico en proteínas y potasio.", "Bajo en calorías. Crece en prados y pastizales."],
    confusiones: ["Agaricus xanthodermus (tóxico, base amarilla)", "Amanita (blancas mortales)"],
    imagenes: [],
  },
  {
    id: "hydnum-repandum",
    nombreComun: "Lengua de gato / Gamuza",
    nombreCientifico: "Hydnum repandum",
    comestibilidad: "comestible",
    habitat: ["bosque", "hayas", "pinos"],
    epoca: ["otoño"],
    rasgos: ["sombrero crema a anaranjado", "espinas bajo el sombrero (no láminas)", "pie corto"],
    descripcionCorta: "Buen comestible. Fácil de reconocer por las espinas.",
    zonas: ["Cataluña", "País Vasco", "Navarra", "Castilla y León", "Pirineos"],
    nombresEnEspana: ["Lengua de gato", "Gamuza", "Lengua de vaca (en algunas zonas)", "Pinatell"],
    calidadCulinaria: "buena",
    consumoRecomendado: ["Salteado", "En guisos", "Sopas", "Con arroz. Las espinas bajo el sombrero son características."],
    propiedades: ["Sabor suave, algo dulce. Textura firme.", "Rico en fibra y minerales.", "Fácil de reconocer por las espinas en lugar de láminas."],
    confusiones: ["Hydnum rufescens (más pequeño)", "Sarcodon (amargas)"],
    imagenes: [],
  },
  {
    id: "craterellus-cornucopioides",
    nombreComun: "Trompeta de los muertos / Trufa de pobre",
    nombreCientifico: "Craterellus cornucopioides",
    comestibilidad: "comestible",
    habitat: ["bosque de hayas", "robledales", "suelo húmico"],
    epoca: ["otoño"],
    rasgos: ["forma de trompeta negra", "sin láminas", "hueco interior", "superficie grisácea"],
    descripcionCorta: "Excelente. Seca muy bien. Crece en grupos.",
    zonas: ["Cataluña", "País Vasco", "Navarra", "Galicia", "Castilla y León", "Pirineos"],
    nombresEnEspana: ["Trompeta de los muertos", "Trufa de pobre", "Trompeta negra", "Corneta"],
    calidadCulinaria: "excelente",
    consumoRecomendado: ["Seco (ideal; concentra el sabor)", "En polvo como condimento", "Arroces", "Guisos", "Salsas"],
    propiedades: ["Sabor intenso, a veces comparado con la trufa. Excelente seca.", "Muy aromática. Carne fina, se deshidrata muy bien.", "Rico en minerales. Bajo en calorías.", "Conservar en aceite o en polvo tras secar."],
    confusiones: ["Craterellus cinereus (similar)", "Pseudocraterellus (más pequeño)"],
    imagenes: [],
  },
  {
    id: "lepista-nuda",
    nombreComun: "Pie azul / Lepista",
    nombreCientifico: "Lepista nuda",
    comestibilidad: "comestible",
    habitat: ["bosque", "hojarasca", "jardines"],
    epoca: ["otoño"],
    rasgos: ["sombrero y láminas lilas o azuladas", "pie violáceo", "olor suave"],
    descripcionCorta: "Buen comestible. Color característico. Cocinarla siempre.",
    zonas: ["Cataluña", "País Vasco", "Galicia", "Castilla y León", "Pirineos"],
    nombresEnEspana: ["Pie azul", "Lepista", "Seta de pie azul", "Lepista nudista"],
    calidadCulinaria: "buena",
    consumoRecomendado: ["Siempre cocinada (nunca cruda)", "Salteada", "En guisos", "Revuelto", "Risotto"],
    propiedades: ["Color violáceo característico. Sabor suave.", "Rico en proteínas y antioxidantes.", "Debe cocinarse; cruda puede sentar mal."],
    confusiones: ["Cortinarius (algunos tóxicos, cortina)", "Lepista saeva (pie blanco)"],
    imagenes: [],
  },
  {
    id: "boletus-aereus",
    nombreComun: "Boleto negro / Bronceado",
    nombreCientifico: "Boletus aereus",
    comestibilidad: "comestible",
    habitat: ["encinares", "alcornoques", "castaños", "bosque mediterráneo"],
    epoca: ["otoño", "verano"],
    rasgos: ["sombrero muy oscuro", "poros blancos luego amarillentos", "pie robusto reticulado"],
    descripcionCorta: "Excelente. Muy valorado en el Mediterráneo.",
    zonas: ["Cataluña", "Aragón", "Castilla-La Mancha", "Extremadura", "Andalucía", "Comunidad Valenciana"],
    nombresEnEspana: ["Boleto negro", "Bronceado", "Hong negre", "Cep negro", "Porcini negro"],
    calidadCulinaria: "excelente",
    consumoRecomendado: ["A la plancha", "Salteado", "Seco", "En risotto", "Guisos. Muy valorado en el Mediterráneo."],
    propiedades: ["Sombrero muy oscuro. Sabor y textura similares al Boletus edulis.", "Rico en proteínas y minerales.", "Una de las setas más cotizadas en Cataluña y Levante."],
    confusiones: ["Boletus edulis (sombrero más claro)", "Boletus satanas (tóxico, poros rojos)"],
    imagenes: [],
  },
  {
    id: "russula-cyanoxantha",
    nombreComun: "Pardilla / Russula comestible",
    nombreCientifico: "Russula cyanoxantha",
    comestibilidad: "comestible",
    habitat: ["bosque", "hayados", "robledales"],
    epoca: ["verano", "otoño"],
    rasgos: ["sombrero verde a violeta", "láminas flexibles que no se rompen", "sin anillo"],
    descripcionCorta: "Buen comestible. Las láminas no se quiebran al pasar el dedo.",
    zonas: ["Cataluña", "País Vasco", "Castilla y León", "Galicia", "Pirineos"],
    nombresEnEspana: ["Pardilla", "Russula comestible", "Pardella", "Xixa"],
    calidadCulinaria: "buena",
    consumoRecomendado: ["A la plancha", "Salteada", "En guisos. Las láminas no se rompen al pasar el dedo (pista)."],
    propiedades: ["Sabor suave. Textura firme. Sombrero en tonos verde/violeta.", "Rico en fibra y minerales.", "Identificación: láminas flexibles, no quebradizas."],
    confusiones: ["Otras Russula (algunas amargas o tóxicas)", "Russula virescens (verde con grietas)"],
    imagenes: [],
  },
  {
    id: "russula-virescens",
    nombreComun: "Russula verde / Verde veteado",
    nombreCientifico: "Russula virescens",
    comestibilidad: "comestible",
    habitat: ["bosque", "encinas", "alcornoques"],
    epoca: ["verano", "otoño"],
    rasgos: ["sombrero verde con grietas tipo cuero", "láminas blancas", "carne blanca"],
    descripcionCorta: "Muy apreciada. Fácil de reconocer por el sombrero agrietado.",
    zonas: ["Cataluña", "Aragón", "Castilla-La Mancha", "Extremadura", "Andalucía"],
    nombresEnEspana: ["Russula verde", "Verde veteado", "Bunyol", "Pera de cuco"],
    confusiones: ["Russula cyanoxantha (sin grietas)", "Amanita phalloides (mortal, anillo y volva)"],
    calidadCulinaria: "muy buena",
    consumoRecomendado: ["Salteada", "A la plancha", "En guisos. Sombrero agrietado tipo cuero, muy característico."],
    propiedades: ["Sabor suave y textura tierna. Muy apreciada.", "Rico en proteínas. Fácil de reconocer por el verde veteado."],
    precauciones: ["No confundir con amanitas. Russula no tiene anillo ni volva."],
    imagenes: [],
  },
  {
    id: "tricholoma-portentosum",
    nombreComun: "Negrilla / Carbonera",
    nombreCientifico: "Tricholoma portentosum",
    comestibilidad: "comestible",
    habitat: ["pinares"],
    epoca: ["otoño"],
    rasgos: ["sombrero gris con tonos amarillos", "láminas amarillentas", "pie blanco"],
    descripcionCorta: "Buen comestible en pinares. Olor harinoso suave.",
    zonas: ["Cataluña", "País Vasco", "Navarra", "Castilla y León", "Aragón"],
    nombresEnEspana: ["Negrilla", "Carbonera", "Negreta", "Fredolic negre"],
    calidadCulinaria: "buena",
    consumoRecomendado: ["Salteado", "En guisos", "Revuelto. Olor harinoso suave. Típico de pinares."],
    propiedades: ["Sabor suave. Rico en proteínas y minerales.", "Crece en pinares en otoño."],
    confusiones: ["Tricholoma terreum (comestible con precaución)", "Otros Tricholoma grises"],
    imagenes: [],
  },
  {
    id: "coprinus-comatus",
    nombreComun: "Barbuda / Coprino",
    nombreCientifico: "Coprinus comatus",
    comestibilidad: "comestible",
    habitat: ["prados", "bordes de caminos", "jardines"],
    epoca: ["primavera", "otoño"],
    rasgos: ["sombrero alto con escamas", "láminas que se licúan en negro", "consumir joven"],
    descripcionCorta: "Buen comestible solo cuando es joven y blanco. No mezclar con alcohol.",
    zonas: ["Toda la península", "Castilla y León", "Galicia", "Cataluña", "Madrid"],
    nombresEnEspana: ["Barbuda", "Coprino", "Seta de tinta (cuando ennegrece)", "Matacandil pequeño"],
    confusiones: ["Coprinus atramentarius (tóxico con alcohol)", "Otros coprinos"],
    calidadCulinaria: "aceptable",
    consumoRecomendado: ["Solo ejemplares muy jóvenes (blancos, sin ennegrecer). Salteado", "Revuelto. No mezclar con alcohol."],
    propiedades: ["Sabor suave. Las láminas se licúan en negro al madurar; solo consumir jóvenes.", "Rico en fibra. No consumir con alcohol (reacción tipo antabus)."],
    precauciones: ["No consumir con alcohol. Recolectar solo ejemplares muy jóvenes."],
    imagenes: [],
  },
  {
    id: "armillaria-mellea",
    nombreComun: "Armillaria / Seta de miel",
    nombreCientifico: "Armillaria mellea",
    comestibilidad: "comestible",
    habitat: ["troncos", "tocones", "raíces", "bosque"],
    epoca: ["otoño"],
    rasgos: ["sombrero miel con escamas", "anillo", "crece en grupos sobre madera"],
    descripcionCorta: "Comestible cocinada. Puede sentar mal si está cruda o en mal estado.",
    zonas: ["Toda la península", "Cataluña", "Galicia", "Castilla y León", "País Vasco"],
    nombresEnEspana: ["Armillaria", "Seta de miel", "Armilaria", "Seta de pie"],
    confusiones: ["Pholiota (anillo fugaz)", "Hypholoma (tóxicos)"],
    calidadCulinaria: "aceptable",
    consumoRecomendado: ["Bien cocinada", "En guisos", "Sopas. Desechar el pie, duro y fibroso."],
    propiedades: ["Sabor suave. Puede sentar mal si está cruda o en mal estado.", "Rico en minerales. Crece en grupos sobre madera."],
    precauciones: ["Siempre bien cocinada. Desechar el pie duro."],
    imagenes: [],
  },
  {
    id: "fistulina-hepatica",
    nombreComun: "Lengua de vaca / Higado de buey",
    nombreCientifico: "Fistulina hepatica",
    comestibilidad: "comestible",
    habitat: ["robles", "castaños", "troncos vivos"],
    epoca: ["verano", "otoño"],
    rasgos: ["forma de lengua rojiza", "tubos separados", "carne que exuda líquido rojo"],
    descripcionCorta: "Joven es comestible. Crece sobre árboles vivos.",
    zonas: ["País Vasco", "Navarra", "Cataluña", "Castilla y León", "Galicia"],
    nombresEnEspana: ["Lengua de vaca", "Hígado de buey", "Ostalaza", "Bistec de pobre"],
    calidadCulinaria: "buena",
    consumoRecomendado: ["Joven: salteada", "En guisos. Exuda un líquido rojizo al cortar; no preocupante."],
    propiedades: ["Textura carnosa. Crece sobre robles y castaños vivos.", "Rico en minerales. Consumir ejemplares jóvenes."],
    confusiones: ["Otros políporos (diferente hábitat y textura)"],
    imagenes: [],
  },
  {
    id: "morchella-esculenta",
    nombreComun: "Colmenilla / Morilla",
    nombreCientifico: "Morchella esculenta",
    comestibilidad: "comestible",
    habitat: ["suelos calizos", "riberas", "zonas quemadas"],
    epoca: ["primavera"],
    rasgos: ["sombrero con celdas tipo panal", "hueco", "pie blanco"],
    descripcionCorta: "Muy apreciada. Siempre consumir cocinada (tóxica cruda).",
    zonas: ["Castilla y León", "Navarra", "Aragón", "Cataluña", "La Rioja", "Sistema Ibérico"],
    nombresEnEspana: ["Colmenilla", "Morilla", "Cagarria", "Múrgola", "Morilla redonda"],
    confusiones: ["Morchella elata (similar)", "Gyromitra (tóxica, cerebro no celdas)"],
    calidadCulinaria: "excelente",
    consumoRecomendado: ["Siempre cocinada (tóxica cruda)", "Salteada", "En cremas", "Risotto", "Seco. Aroma intenso."],
    propiedades: ["Una de las setas más apreciadas. Sabor y aroma intensos.", "Rico en proteínas y minerales. Celdas tipo panal en el sombrero.", "Solo consumir cocinada; cruda es tóxica."],
    precauciones: ["Nunca consumir cruda. Siempre bien cocinada."],
    imagenes: [],
  },
  {
    id: "tuber-melanosporum",
    nombreComun: "Trufa negra",
    nombreCientifico: "Tuber melanosporum",
    comestibilidad: "comestible",
    habitat: ["suelo bajo encinas", "avellanos", "robles"],
    epoca: ["invierno"],
    rasgos: ["tuberculo subterráneo", "superficie negra con verrugas", "interior marmóreo"],
    descripcionCorta: "Reina de la gastronomía. Se busca con perros o jabalíes.",
    zonas: ["Aragón", "Cataluña", "Castilla y León", "Teruel", "Soria", "Huesca", "Zaragoza"],
    nombresEnEspana: ["Trufa negra", "Trufa de Perigord", "Trufa de invierno", "Tuber"],
    calidadCulinaria: "excelente",
    consumoRecomendado: ["Rallada o en láminas sobre pasta", "Arroz", "Huevos", "Mantequilla. No cocinar mucho para no perder aroma."],
    propiedades: ["Reina de la gastronomía. Aroma y sabor únicos.", "Tuberculo subterráneo; se busca con perros. Rico en proteínas y minerales.", "Muy valorada en cocina. Mejor en crudo o poco cocinada."],
    confusiones: ["Tuber brumale (menos valor)", "Tuber indicum (importada)"],
    imagenes: [],
  },
  {
    id: "amanita-verna",
    nombreComun: "Oronja blanca / Cicuta blanca",
    nombreCientifico: "Amanita verna",
    comestibilidad: "tóxica",
    habitat: ["bosque", "suelos calizos"],
    epoca: ["primavera", "verano"],
    rasgos: ["completamente blanca", "volva en saco", "anillo", "láminas blancas"],
    descripcionCorta: "Mortal. Muy peligrosa por confusión con setas blancas comestibles.",
    zonas: ["Toda la península", "Castilla y León", "Cataluña", "Madrid", "Andalucía"],
    nombresEnEspana: ["Oronja blanca", "Cicuta blanca", "Amanita de primavera"],
    confusiones: ["Agaricus campestris (láminas rosadas)", "Calocybe gambosa (olor harinoso)"],
    precauciones: ["Setas mortales. Nunca consumir setas blancas sin identificación experta."],
    imagenes: [],
  },
  {
    id: "amanita-virosa",
    nombreComun: "Oronja fétida / Ángel destructor",
    nombreCientifico: "Amanita virosa",
    comestibilidad: "tóxica",
    habitat: ["bosques de coníferas", "abedules", "zonas norte"],
    epoca: ["verano", "otoño"],
    rasgos: ["blanca", "volva en saco", "olor desagradable", "láminas blancas"],
    descripcionCorta: "Mortal. Más frecuente en el norte de España.",
    zonas: ["País Vasco", "Navarra", "Cataluña", "Galicia", "Cordillera Cantábrica", "Pirineos"],
    nombresEnEspana: ["Oronja fétida", "Ángel destructor", "Amanita virosa"],
    confusiones: ["Amanita verna (similar)", "Setas blancas comestibles"],
    precauciones: ["Setas mortales. Evitar toda seta blanca con volva."],
    imagenes: [],
  },
  {
    id: "lepiota-brunneoincarnata",
    nombreComun: "Lepiota mortal",
    nombreCientifico: "Lepiota brunneoincarnata",
    comestibilidad: "tóxica",
    habitat: ["jardines", "céspedes", "parques"],
    epoca: ["verano", "otoño"],
    rasgos: ["sombrero con escamas marrón rojizo", "anillo", "talla pequeña a media"],
    descripcionCorta: "Mortal. Crece en zonas urbanas. Muy peligrosa.",
    zonas: ["Toda la península", "Cataluña", "Madrid", "Comunidad Valenciana", "Andalucía"],
    nombresEnEspana: ["Lepiota mortal", "Lepiota venenosa pequeña"],
    confusiones: ["Macrolepiota procera (parasol, mucho más grande)", "Otras Lepiota"],
    precauciones: ["No consumir Lepiota pequeñas. Solo parasoles bien identificados."],
    imagenes: [],
  },
  {
    id: "galerina-marginata",
    nombreComun: "Galerina marginada",
    nombreCientifico: "Galerina marginata",
    comestibilidad: "tóxica",
    habitat: ["madera muerta", "troncos", "tocones"],
    epoca: ["otoño", "primavera"],
    rasgos: ["sombrero marrón pequeño", "anillo fugaz", "láminas marrones", "sobre madera"],
    descripcionCorta: "Mortal. Contiene las mismas toxinas que la oronja verde.",
    zonas: ["Cataluña", "País Vasco", "Galicia", "Castilla y León", "Pirineos"],
    nombresEnEspana: ["Galerina marginada", "Galerina de borde"],
    confusiones: ["Psilocybe (alucinógenas)", "Setas comestibles sobre madera"],
    precauciones: ["Setas mortales. No consumir setas pequeñas sobre madera sin identificar."],
    imagenes: [],
  },
  {
    id: "entoloma-lividum",
    nombreComun: "Entoloma en sidra",
    nombreCientifico: "Entoloma lividum",
    comestibilidad: "tóxica",
    habitat: ["bosque", "claros", "prados"],
    epoca: ["otoño"],
    rasgos: ["sombrero grisáceo grande", "láminas rosadas", "pie grueso"],
    descripcionCorta: "Tóxica. Intoxicación gastrointestinal grave.",
    zonas: ["Cataluña", "País Vasco", "Navarra", "Castilla y León", "Galicia"],
    nombresEnEspana: ["Entoloma en sidra", "Entoloma lividum", "Entoloma de los prados"],
    confusiones: ["Calocybe gambosa (perrechico)", "Clitocybe nebularis"],
    precauciones: ["No consumir. Confusión frecuente con setas de primavera."],
    imagenes: [],
  },
  {
    id: "gyromitra-esculenta",
    nombreComun: "Bonete / Falsa colmenilla",
    nombreCientifico: "Gyromitra esculenta",
    comestibilidad: "tóxica",
    habitat: ["pinares", "suelos arenosos"],
    epoca: ["primavera"],
    rasgos: ["sombrero en forma de cerebro marrón", "no tiene celdas como morchella", "pie blanco"],
    descripcionCorta: "Tóxica. Puede ser mortal. No confundir con colmenillas.",
    zonas: ["Navarra", "País Vasco", "Cataluña", "Castilla y León", "Pirineos"],
    nombresEnEspana: ["Bonete", "Falsa colmenilla", "Gyromitra", "Oreja de judas"],
    confusiones: ["Morchella (colmenilla, con celdas)", "Otras Gyromitra"],
    precauciones: ["No consumir. Tóxica incluso cocinada en algunos casos."],
    imagenes: [],
  },
  {
    id: "boletus-satanas",
    nombreComun: "Boleto de Satanás",
    nombreCientifico: "Boletus satanas",
    comestibilidad: "tóxica",
    habitat: ["encinares", "alcornoques", "suelos calizos"],
    epoca: ["verano", "otoño"],
    rasgos: ["sombrero blanco grisáceo", "poros rojos", "pie rojizo con retículo"],
    descripcionCorta: "Tóxica. Provoca vómitos intensos. No consumir.",
    zonas: ["Cataluña", "Aragón", "Castilla-La Mancha", "Extremadura", "Andalucía", "Comunidad Valenciana"],
    nombresEnEspana: ["Boleto de Satanás", "Boleto malo", "Hong del diable"],
    confusiones: ["Boletus edulis (poros blancos/oliva)", "Boletus aereus (sombrero oscuro)"],
    imagenes: [],
  },
  {
    id: "hygrophoropsis-aurantiaca",
    nombreComun: "Falsa seta de caballo",
    nombreCientifico: "Hygrophoropsis aurantiaca",
    comestibilidad: "sin interés",
    habitat: ["bosque", "pinares", "hojarasca"],
    epoca: ["otoño"],
    rasgos: ["naranja", "láminas decurrentes naranjas", "más frágil que rebozuelo"],
    descripcionCorta: "No es el rebozuelo. Comestibilidad discutida; mejor no consumir.",
    zonas: ["Cataluña", "País Vasco", "Navarra", "Castilla y León", "Galicia"],
    nombresEnEspana: ["Falsa seta de caballo", "Falso rebozuelo", "Rebozuelo falso"],
    confusiones: ["Cantharellus cibarius (rebozuelo, láminas en pliegues)"],
    imagenes: [],
  },
  {
    id: "clitocybe-nebularis",
    nombreComun: "Neguilla / Lepista nebularis",
    nombreCientifico: "Clitocybe nebularis",
    comestibilidad: "sin interés",
    habitat: ["bosque", "hojarasca"],
    epoca: ["otoño"],
    rasgos: ["sombrero gris claro", "láminas decurrentes", "olor fuerte"],
    descripcionCorta: "Comestibilidad discutida. Puede sentar mal. Mejor no consumir.",
    zonas: ["Cataluña", "País Vasco", "Galicia", "Castilla y León", "Pirineos"],
    nombresEnEspana: ["Neguilla", "Lepista nebularis", "Seta de humo", "Bruja"],
    confusiones: ["Lepista nuda (pie azul)", "Entoloma (tóxico)"],
    imagenes: [],
  },
];

export const COMESTIBILIDAD_OPTIONS: readonly Comestibilidad[] = [
  "comestible",
  "tóxica",
  "sin interés",
  "desconocida",
] as const;

export type CalidadCulinaria = "excelente" | "muy buena" | "buena" | "aceptable";
export const CALIDAD_CULINARIA_OPTIONS: readonly CalidadCulinaria[] = [
  "excelente",
  "muy buena",
  "buena",
  "aceptable",
] as const;

/** Devuelve la seta con las imágenes de su carpeta (comestibles primero, luego no comestibles) */
export function getMushrooms(): Mushroom[] {
  return [...MUSHROOMS]
    .sort((a, b) => COMESTIBILIDAD_ORDER[a.comestibilidad] - COMESTIBILIDAD_ORDER[b.comestibilidad])
    .map((m) => ({
      ...m,
      imagenes: getImagenesFromManifest(m.id, m.nombreComun),
    }));
}

export function getMushroomById(id: string): Mushroom | undefined {
  const m = MUSHROOMS.find((x) => x.id === id);
  if (!m) return undefined;
  return {
    ...m,
    imagenes: getImagenesFromManifest(m.id, m.nombreComun),
  };
}
